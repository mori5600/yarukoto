# 本番環境用 環境変数テンプレート
# このファイルを .env にコピーして値を設定してください
# cp .env.example .env

# ===========================================
# 必須設定
# ===========================================

# Django Secret Key（必ず変更すること）
# 生成コマンド: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# 注意: Docker Compose の env-file は値中の `$FOO` を変数展開します。
# SECRET_KEY に `$` が含まれる場合は `$` を `$$` に置換して保存してください（例: `a$b` → `a$$b`）。
DJANGO_SECRET_KEY=your-super-secret-key-here-change-me

# 許可するホスト名（カンマ区切り）
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# SQLite DBのパス（docker-compose.yml の /app/data ボリュームに保存）
DJANGO_DB_PATH=/app/data/db.sqlite3

# ===========================================
# オプション設定
# ===========================================

# ポート番号
PORT=8000

# gunicornワーカー数（CPU数に応じて調整）
# 推奨: (2 x CPU数) + 1、ただし軽量運用なら2で十分
GUNICORN_WORKERS=2

# gunicornスレッド数
GUNICORN_THREADS=4

# HTTPS運用時のCSRF設定（カンマ区切り）
# 例: https://your-domain.com,https://www.your-domain.com
DJANGO_CSRF_TRUSTED_ORIGINS=

# DEBUGモード（0: 無効、1: 有効）
DEBUG=0

# ===========================================
# 起動時処理（任意）
# ===========================================

# 起動時に migrate を自動実行する（推奨: 1）
DJANGO_AUTO_MIGRATE=1

# 起動時に superuser を自動作成する（0/1）
# 既に同名ユーザーが存在する場合は何もしない
DJANGO_CREATE_SUPERUSER=0

# superuser 自動作成のときだけ設定（Gitに秘密は置かず、実運用はホスト側の .env で設定）
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=change-me

# 既存ユーザーがいる場合でも、パスワードを更新したいときだけ 1 にする
DJANGO_SUPERUSER_UPDATE_PASSWORD=0
