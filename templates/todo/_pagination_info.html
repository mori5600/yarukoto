<div id="pagination-info" class="todo-info">
    <div class="todo-info__actions d-none d-sm-flex">
        <form class="m-0" aria-label="並び替え">
            {% if current_q %}<input type="hidden" name="q" value="{{ current_q }}" />{% endif %}
            {% if current_status and current_status != 'all' %}
                <input type="hidden" name="status" value="{{ current_status }}" />
            {% endif %}
            <select name="sort"
                    class="form-select form-select-sm"
                    hx-get="{% url 'todo:todo_list' %}"
                    hx-trigger="change"
                    hx-target="body"
                    hx-push-url="true"
                    hx-include="closest form"
                    aria-label="並び替え">
                <option value="created"
                        {% if current_sort|default:'created' == 'created' %}selected{% endif %}>作成日時（新しい順）</option>
                <option value="updated"
                        {% if current_sort|default:'created' == 'updated' %}selected{% endif %}>更新日時（新しい順）</option>
                <option value="active_first"
                        {% if current_sort|default:'created' == 'active_first' %}selected{% endif %}>未完了を上へ</option>
            </select>
        </form>
        {% if page_obj.paginator.count > 0 %}
            <button class="btn btn-sm btn-outline-danger"
                    hx-delete="{% url 'todo:delete_completed_todo_items' %}{% if list_querystring %}?{{ list_querystring }}{% endif %}"
                    hx-target="#todo-list"
                    hx-swap="innerHTML"
                    hx-confirm="完了済みのTodoを全て削除しますか？"
                    title="完了を全て削除">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="16"
                     height="16"
                     fill="currentColor"
                     class="bi bi-trash"
                     viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
                    <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
                </svg>
                完了を全て削除
            </button>
            <button class="btn btn-sm btn-danger"
                    hx-delete="{% url 'todo:delete_all_todo_items' %}{% if list_querystring %}?{{ list_querystring }}{% endif %}"
                    hx-target="#todo-list"
                    hx-swap="innerHTML"
                    hx-confirm="全てのTodoを削除しますか？"
                    title="全て削除">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="16"
                     height="16"
                     fill="currentColor"
                     class="bi bi-trash"
                     viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
                    <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
                </svg>
                全て削除
            </button>
        {% endif %}
    </div>
    <details class="todo-details d-sm-none">
        <summary class="todo-details__summary">
            並び替え・操作（
            {% if current_sort|default:'created' == 'updated' %}
                更新日時
            {% elif current_sort|default:'created' == 'active_first' %}
                未完了を上へ
            {% else %}
                作成日時
            {% endif %}
            ）
        </summary>
        <div class="todo-info__actions mt-2">
            <form class="m-0" aria-label="並び替え">
                {% if current_q %}<input type="hidden" name="q" value="{{ current_q }}" />{% endif %}
                {% if current_status and current_status != 'all' %}
                    <input type="hidden" name="status" value="{{ current_status }}" />
                {% endif %}
                <select name="sort"
                        class="form-select form-select-sm"
                        hx-get="{% url 'todo:todo_list' %}"
                        hx-trigger="change"
                        hx-target="body"
                        hx-push-url="true"
                        hx-include="closest form"
                        aria-label="並び替え">
                    <option value="created"
                            {% if current_sort|default:'created' == 'created' %}selected{% endif %}>作成日時（新しい順）</option>
                    <option value="updated"
                            {% if current_sort|default:'created' == 'updated' %}selected{% endif %}>更新日時（新しい順）</option>
                    <option value="active_first"
                            {% if current_sort|default:'created' == 'active_first' %}selected{% endif %}>
                        未完了を上へ
                    </option>
                </select>
            </form>
            {% if page_obj.paginator.count > 0 %}
                <button class="btn btn-sm btn-outline-danger"
                        hx-delete="{% url 'todo:delete_completed_todo_items' %}{% if list_querystring %}?{{ list_querystring }}{% endif %}"
                        hx-target="#todo-list"
                        hx-swap="innerHTML"
                        hx-confirm="完了済みのTodoを全て削除しますか？"
                        title="完了を全て削除">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-trash"
                         viewBox="0 0 16 16">
                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
                    </svg>
                    完了を全て削除
                </button>
                <button class="btn btn-sm btn-danger"
                        hx-delete="{% url 'todo:delete_all_todo_items' %}{% if list_querystring %}?{{ list_querystring }}{% endif %}"
                        hx-target="#todo-list"
                        hx-swap="innerHTML"
                        hx-confirm="全てのTodoを削除しますか？"
                        title="全て削除">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-trash"
                         viewBox="0 0 16 16">
                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
                    </svg>
                    全て削除
                </button>
            {% endif %}
        </div>
    </details>
</div>
