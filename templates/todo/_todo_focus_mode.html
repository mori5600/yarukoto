<!-- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ¢ãƒ¼ãƒ‰ç”¨ã®ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
<div id="todo-focus-mode" class="todo-focus-mode">
    <div class="todo-focus-mode__header">
        <div class="todo-focus-mode__header-left">
            <button class="todo-focus-mode__close" hx-get="{% url 'todo:exit_focus_mode' %}"
                hx-target="#todo-focus-mode" hx-swap="outerHTML" title="ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ¢ãƒ¼ãƒ‰çµ‚äº† (Esc)">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                    <path
                        d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
                </svg>
            </button>
        </div>
        <div class="todo-focus-mode__timer" id="pomodoro-timer">
            <button id="timer-settings" class="btn btn-sm btn-outline-secondary" title="ã‚¿ã‚¤ãƒãƒ¼è¨­å®š">âš™ï¸</button>
            <span id="timer-display">25:00</span>
            <button id="timer-start" class="btn btn-sm btn-success">é–‹å§‹</button>
            <button id="timer-pause" class="btn btn-sm btn-warning todo-focus-mode__timer-pause--hidden">ä¸€æ™‚åœæ­¢</button>
            <button id="timer-reset" class="btn btn-sm btn-secondary">ãƒªã‚»ãƒƒãƒˆ</button>
        </div>
    </div>
    <!-- ã‚¿ã‚¤ãƒãƒ¼è¨­å®šãƒ‘ãƒãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éè¡¨ç¤ºï¼‰ -->
    <div id="timer-settings-panel" class="todo-focus-mode__settings-panel" style="display: none">
        <div class="todo-focus-mode__settings-content">
            <div class="todo-focus-mode__settings-header">
                <h5>â±ï¸ ã‚¿ã‚¤ãƒãƒ¼è¨­å®š</h5>
                <button type="button" id="timer-settings-close" class="todo-focus-mode__settings-close"
                    aria-label="é–‰ã˜ã‚‹">&times;</button>
            </div>
            <div class="mb-3">
                <label for="timer-work-duration" class="form-label">ä½œæ¥­æ™‚é–“ï¼ˆåˆ†ï¼‰</label>
                <input type="number" id="timer-work-duration" class="form-control" min="1" max="120" value="25">
            </div>
            <div class="mb-3">
                <label for="timer-break-duration" class="form-label">ä¼‘æ†©æ™‚é–“ï¼ˆåˆ†ï¼‰</label>
                <input type="number" id="timer-break-duration" class="form-control" min="1" max="60" value="5">
            </div>
            <div class="mb-3">
                <label for="timer-long-break-duration" class="form-label">é•·ä¼‘æ†©æ™‚é–“ï¼ˆåˆ†ï¼‰</label>
                <input type="number" id="timer-long-break-duration" class="form-control" min="1" max="60" value="15">
            </div>
            <div class="mb-3">
                <label for="timer-sessions-before-long-break" class="form-label">é•·ä¼‘æ†©ã¾ã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°</label>
                <input type="number" id="timer-sessions-before-long-break" class="form-control" min="1" max="10"
                    value="4">
            </div>
            <div class="mb-3">
                <label class="form-label">é€šçŸ¥</label>
                <div id="notification-permission-status" class="todo-focus-mode__notification-status"></div>
                <button type="button" id="notification-permission-btn" class="btn btn-outline-secondary btn-sm w-100">ğŸ””
                    é€šçŸ¥ã‚’è¨±å¯ã™ã‚‹</button>
            </div>
            <div class="d-flex gap-2">
                <button id="timer-settings-save" class="btn btn-primary">ä¿å­˜</button>
                <button id="timer-settings-cancel" class="btn btn-secondary">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            </div>
        </div>
    </div>
    <div class="todo-focus-mode__content">
        <label class="todo-focus-mode__checkbox">
            {# djlint:off #}
            <input type="checkbox" class="form-check-input form-check-input--large" {{
                todo_item.completed|yesno:"checked," }}
                hx-post="{% url 'todo:update_todo_item' todo_item.pk %}?focus=1&page={{ current_page }}{% if list_querystring %}&{{ list_querystring }}{% endif %}"
                hx-target="#todo-focus-item" hx-swap="outerHTML">
            {# djlint:on #}
        </label>
        <div id="todo-focus-item" class="todo-focus-mode__text">
            <h1 class="{% if todo_item.completed %}text-decoration-line-through{% endif %}">{{ todo_item.description }}
            </h1>
            <div class="todo-focus-mode__meta">
                <span>ä½œæˆ: {{ todo_item.created_at|date:"Y/m/d H:i" }}</span>
                <span>æ›´æ–°: {{ todo_item.updated_at|date:"Y/m/d H:i" }}</span>
            </div>
        </div>
    </div>
    <div class="todo-focus-mode__actions">
        <button class="btn btn-outline-primary btn-lg"
            hx-get="{% url 'todo:edit_todo_item' todo_item.pk %}?focus=1&page={{ current_page }}{% if list_querystring %}&{{ list_querystring }}{% endif %}"
            hx-target="#todo-focus-item" hx-swap="outerHTML">ç·¨é›†</button>
        <button class="btn btn-outline-danger btn-lg"
            hx-delete="{% url 'todo:delete_todo_item' todo_item.pk %}?focus=1&page={{ current_page }}{% if list_querystring %}&{{ list_querystring }}{% endif %}"
            hx-target="this" hx-swap="none" hx-confirm="æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ">å‰Šé™¤</button>
    </div>
</div>